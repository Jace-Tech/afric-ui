<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Register as a Tenant to build a trusted personality and secure yourself with AfricNeibor. We collect and protect your Data for your safety">
    <meta name="author" content="AfricNeibor">

     <link href="../logo.png" rel="icon">
  <link href="../logo.png" rel="apple-touch-icon">

    <title>AfricNeibor | Tenant Signup</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/common.css" rel="stylesheet">

    
<link href="https://fonts.googleapis.com/css?family=Rubik:400,600,700&display=swap" rel="stylesheet">
<link href="css/theme-05.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.3/css/intlTelInput.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.3/js/intlTelInput.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<style>
    
@media (min-width: 768px){
    .forny-form {
    width: 65% !important;
    }
    }
    .forny-two-pane {
    height: 100%;
    display: flex;
    flex-direction: column;
}
</style>
<script>
var base_url = "https://africneighbour.onrender.com/api";
var first_name = "";
var last_name = "";
   var user_id = sessionStorage.getItem("user_id");
        var role = sessionStorage.getItem("role");
        var bearer = sessionStorage.getItem("bearer_token");
        const ADMIN_TOKEN = bearer;
        if((user_id == null) || (user_id.length == 0) || (role != "tenant")){
           window.location.href="login"; 
        }
        
        const user_details = { 
            "user_id": user_id
        };
       
</script>


</head>

<body>
    <div class="forny-container">
        
<div class="forny-inner">
    <div class="forny-two-pane">
        <div>
            <div class="forny-form">
                <div class="tab-content">
                       
               <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active bg-transparent" data-toggle="tab" role="tab">
                            <span>Personal</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link bg-transparent" data-toggle="tab" role="tab">
                            <span>Family</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link bg-transparent" data-toggle="tab" role="tab">
                            <span>Employment</span>
                        </a>
                    </li>
                     <li class="nav-item">
                        <a class="nav-link bg-transparent" data-toggle="tab" role="tab">
                            <span>Others</span>
                        </a>
                    </li>
                </ul> 
          




             <div class="tab-pane tab-pane show active" role="tabpanel" id="personal">
                
                        <div>
                    <h4 class="mt-5">Create an account</h4>
                    <p class="mb-5">Fill in your Personal Information.</p>
                </div>
                <form>

<div class="row">
            <div class="form-group col-xl-6 col-lg-6">
          <label>Your first Name: </label><br>
    <input required  class="form-control" name="fname" id="fname" type="text">

    </div>   
    
    <div class="form-group col-xl-6 col-lg-6">
       <label>Your Last Name</label><br>
    <input required  class="form-control" name="lname" id="lname" type="text">

    </div>
    
   <div class="form-group col-xl-6 col-lg-6">

    <input required  class="form-control" name="oname" id="oname" type="text"
    placeholder="Enter your other names">

    </div>
     <div class="form-group col-xl-6 col-lg-6">
        <div class="input-group">
            <label for="is_nig" class="form-label mr-2">Are you a Nigerian Citizen?</label> 
            <select class="form-control" name="is_nig" id="is_nig">
                <option value="true">Yes</option>
                <option value="false">No</option>
            </select>
            
        </div>
    </div>  
     <div class="form-group col-12" id="cdiv">
    <select class="form-control" id="country" name="country" onchange="g_state();">
        <option value="0">--Select your country of residence</option>
        
    </select>

    </div>
    <div class="form-group col-12 col-xl-6 col-lg-6" id="stdiv">
    <select class="form-control" id="state" name="state">
        <option value="0">--Select the state</option>
        
    </select>
</div>
    <div class="form-group col-12 col-xl-6 col-lg-6" id="citydiv">
          <label>Enter your City/Birth town</label><br>
    <input required  class="form-control" name="city" id="city" type="text">

</div>
   
     <div class="col-12 form-group">
     <label>Enter your Address</label><br>
       
    <input required  class="form-control" name="address" id="address" type="address"
    placeholder="Your address">

    </div>
     <div class="col-12 form-group">
             
        <hr class="mt-3 mb-3">
    </div>
    
     <div class="col-xl-6 col-lg-6 form-group">
             
        <div class="input-group">
       
    <select class="form-control" id="idtype" name="idtype">
        <option value="0">--Select Your ID Type</option>
        <option value="NIN">National ID Card(NIN)</option>
        <!--<option value="Passport">International Passport</option>-->
        <!--<option value="Voters Card">Voter's Card</option>-->
        
    </select>

        </div>
    </div>
     <div class="form-group col-xl-6 col-lg-6">
         
    <input required  class="form-control" name="nin" id="nin" type="text"
    placeholder="Your ID Number (Nin/Passport/Driving License/Voter's Card)">

    </div>

   
 <div class="form-group col-12 col-lg-6 col-xl-6">
        
          <label for="phone" class="form-label">Your Phone Number</label><br>
    <input required  class="form-control" name="phone" id="phone" type="tel">

    </div>
     <div class="form-group col-12 col-lg-6 col-xl-6">
        
          <label for="dob" class="form-label">Your Date of Birth</label><br>
    <input required  class="form-control" name="dob" id="dob" type="date">

    </div>
    
     

   

   
</div>


<div class="row">

<div class="form-group col-12 col-lg-6 col-xl-6">
    <label for="relgion" class="form-label">Your Religion</label><br>
      <select class="form-control" id="religion" name="religion">
        <option value="0">--Select Your Religion</option>
        <option value="CHRISTAIN">CHRISTAIN</option>
        <option value="MUSLIM">MUSLIM</option>
        <option value="TRADITIONAL">TRADITIONAL</option>
        <option value="ATHEIST">ATHEIST</option>
        <option value="OTHERS">OTHER</option>
        
    </select>


    </div>
    <div class="form-group col-xl-6 col-lg-6">
        
            <label for="mar_stat" class="form-label mr-2">Your Marital Status</label> <br>
            <select class="form-control" name="mar_stat" id="mar_stat">
                <option value="0">--Select Your Marital Status</option>
                <option value="Single">Single</option>
                <option value="Married">Married</option>
                 <option value="Divorced">Divorced</option>
            </select>
            
    </div>

     <div class="form-group col-xl-6 col-lg-6">
        <div class="input-group">
          <label for="kids_num" class="form-label mr-2">How many children do you have?</label>
    <input required  class="form-control" name="kids_num" id="kids_num" type="number">
</div>

    </div>
    
     <div class="form-group col-xl-6 col-lg-6">
        <div class="input-group">
          <label for="sp_num" class="form-label mr-2">How many spouse do you have?</label>
    <input class="form-control" name="sp_num" id="sp_num" type="number">
</div>

    </div>
    
   
    
      <div class="mb-5 col-6 mt-4" style="float:right">
                        <button type="button" class="btn btn-success btn-block text-light" id="personal_btn" onclick="next_personal(this);">Save & Next</button> 
                    </div>
    </div>


                </form>
            </div>
 
<!--         end of personal info -->


<div class="tab-pane tab-pane" role="tabpanel" id="family">
                
                        <div>
                    <h4 class="mt-5">Create an account</h4>
                    <p class="mb-5">Fill in your Family Information.</p>
                </div>
                <form>
<div class="row">

    <div class="form-group col-xl-6 col-lg-6 col-md-6">
            
    <input required  class="form-control" name="m_fname" id="m_fname" type="text"
    placeholder="Your Mother's First Name">

        </div>
    
     <div class="form-group col-xl-6 col-lg-6 col-md-6">
            
    <input required  class="form-control" name="m_lname" id="m_lname" type="text"
    placeholder="Your Mother's Last Name">

        </div>


    <div class="form-group col-xl-6 col-lg-6 col-md-6">
    
           <label for="mg_lname" class="form-label mr-2">Your Father's First Name</label>   
    <input required  class="form-control" name="f_fname" id="f_fname" type="text"
    placeholder="">

        </div>
    
    <div class="form-group col-xl-6 col-lg-6 col-md-6">
    <label for="mg_lname" class="form-label mr-2">Your Father's Last Name</label> 
    <input required  class="form-control" name="f_lname" id="f_lname" type="text"
    placeholder="">

    </div>

    <div class="form-group col-xl-6 col-lg-6">
    <label for="mg_lname" class="form-label mr-2">Your Maternal Grandmother's First Name</label> 
    <input required  class="form-control" name="mg_fname" id="mg_fname" type="text"
    placeholder="">

        </div>
    
     <div class="form-group col-xl-6 col-lg-6">
    <label for="mg_lname" class="form-label mr-2">Your Maternal Grandmother's Last Name</label> 
            
    <input required  class="form-control" name="mg_lname" id="mg_lname" type="text"
    placeholder="">

    </div>

    <div class="form-group col-xl-6 col-lg-6">
    <label for="mgf_lname" class="form-label mr-2">Your Maternal Grandfather's First Name</label> 
    <input required  class="form-control" name="mgf_fname" id="mgf_fname" type="text"
    placeholder="">

    </div>


    <div class="form-group col-xl-6 col-lg-6">
    <label for="mgf_lname" class="form-label mr-2">Your Maternal Grandfather's Last Name</label> 
    <input required  class="form-control" name="mgf_lname" id="mgf_lname" type="text"
    placeholder="">

    </div>


    <div class="form-group col-xl-6 col-lg-6">
     <label for="pg_fname" class="form-label mr-2">Your Paternal Grandmother's First Name</label> 
    <input required  class="form-control" name="pg_fname" id="pg_fname" type="text"
    placeholder="">

    </div>
    <div class="form-group col-xl-6 col-lg-6">
     <label for="pg_lname" class="form-label mr-2">Your Paternal Grandmother's Last Name</label> 
    <input required  class="form-control" name="pg_lname" id="pg_lname" type="text"
    placeholder="">

    </div>
    
    <div class="form-group col-xl-6 col-lg-6">
     <label for="pgf_fname" class="form-label mr-2">Your Paternal Grandfather's First Name</label> 
    <input required  class="form-control" name="pgf_fname" id="pgf_fname" type="text"
    placeholder="">

    </div>
    
    <div class="form-group col-xl-6 col-lg-6">
     <label for="pgf_lname" class="form-label mr-2">Your Paternal Grandfather's Last Name</label> 
    <input required  class="form-control" name="pgf_lname" id="pgf_lname" type="text"
    placeholder="">

    </div>
    
     <div class="mb-5 col-6 mt-4" style="float:left">
                        <button type="button" id="back" class="btn btn-secondary btn-block text-light" onclick="back_p();">Back</button> 
                        
                    </div>
    <div class="mb-5 col-6 mt-4" style="float:right">
                        <button type="button" id="family_btn" class="btn btn-success btn-block text-light" onclick="next_family(this);">Save & Next</button> 
                        
                    </div>
    

</div>

                </form>
            </div>
            
            <div class="tab-pane tab-pane" role="tabpanel" id="employment">
                
                        <div>
                    <h4 class="mt-5">Create an account</h4>
                    <p class="mb-5">Fill in your Education Details.</p>
                </div>
                <form>
<div class="row">

 <div class="col-xl-6 col-lg-6 form-group">
              <label for="ed_level" class="form-label mr-2">Select your Highest Education Level</label> 
    <select class="form-control" id="ed_level" name="ed_level">
        <option value="0">--Your Highest Education Level</option>
        <option value="PHD">PHD Holder</option>
        <option value="Post Graduate/Masters Degree">Post Graduate/Masters Degree</option>
        <option value="Diploma/Associate Degree">Diploma/Associate Degree</option>
        <option value="University Degree">University Degree</option>
        <option value="High School">High School</option>
        <option value="Primary school">Primary School</option>
        <option value="Not Educated">Not Educated</option>
        
    </select>

    </div>
    <div class="form-group col-xl-6 col-lg-6">
     <label for="school" class="form-label mr-2">Name of the most recent school you attended/currently attending?</label> 
    <input required  class="form-control" name="school" id="school" type="text"
    placeholder="">

    </div>
    
    <div class="form-group col-xl-6 col-lg-6">
    <label for="grad_year" class="form-label mr-2">Enter your Graduation Year/Expected Graduation Year</label> 
    <input required  class="form-control" name="grad_year" id="grad_year" type="number"
    placeholder="2000" min="1900" max="">

    </div>
    
     <div class="form-group col-xl-6 col-lg-6">
    <label for="course" class="form-label mr-2">Which course are you studying/did you study</label> 
    <input class="form-control" name="course" id="course" type="text" required
    placeholder="">

    </div>
    
    <!--<div class="col-12 form-group">-->
    <!--<select class="form-control" id="emp_status" name="emp_status" onchange="emp_change()">-->
    <!--    <option value="0">--Select Your Employment Status</option>-->
    <!--    <option value="Employed">Employed</option>-->
    <!--    <option value="Self-Employed">Self-Employed</option>-->
    <!--    <option value="Paid Internship">Paid Internship</option>-->
    <!--    <option value="Student">Student</option>-->
    <!--    <option value="Not Employed">Not Employed</option>-->
        
    <!--</select>-->

    <!--    </div>-->
        
        
         <div class="col-xl-6 col-lg-6 form-group">
             <label for="work_industry" class="form-label mr-2">Which industry do you currently work/skilled</label> 
    <select class="form-control" id="work_industry" name="work_industry">
        <option value="0">--Select The Industry where you work</option>
        <option value="Farming/Agricultural">Farming/Agricultural</option>
        <option value="banking/finance">Banking/Finance</option>
        <option value="Education">Education</option>
        <option value="Information Technology">Information Technology</option>
        <option value="Engineering">Engineering</option>
        <option value="Mathematics">Mathematics</option>
        <option value="Science/Health">Science/Health</option>
        <option value="Sales/Retail">Sales/Retail</option>
         <option value="Logistics">Logistics</option>
          <option value="Beauty/Cosmetics">Beauty/Cosmetics</option>
           <option value="Fashion">Fashion</option>
            <option value="Others">Others</option>
            <option value="Student/Unemployed">Student/Unemployed</option>
        
    </select>

    </div>
    
     <div class="form-group col-xl-6 col-lg-6">
         <label for="company_name" class="form-label mr-2">What is the name of the company where you work(optional)</label> 
    <input class="form-control" name="company_name" id="company_name" type="text" placeholder="">

        </div>
        
         <div class="form-group col-xl-6 col-lg-6">
            <label for="job_role" class="form-label mr-2">What is your Job role(optional)</label> 
    <input class="form-control" name="job_role" id="job_role" type="text" required
    placeholder="">

        </div>
      <div class="form-group col-xl-6 col-lg-6">
    <label for="salary" class="form-label mr-2">Enter the date you started this job/became a student</label> 
    <input required  class="form-control" name="start_date" id="start_date" type="date" required
    placeholder="01-06-2023">

    </div>
      <div class="form-group col-xl-6 col-lg-6">
         <label for="emp_name" class="form-label mr-2">Name of your Employer(to verify job)</label>   
    <input class="form-control" name="emp_name" id="emp_name" type="text" required
    placeholder="">
    </div>
    
    <div class="form-group col-xl-6 col-lg-6">
       <label for="emp_phone" class="form-label mr-2">Phone number of your Employer(to verify job)</label>    
    <input class="form-control" name="emp_phone" id="emp_phone" type="text" required
    placeholder="+24390098766">
    </div>
    
     <div class="form-group col-12 col-xl-6 col-lg-6">
    <div class="input-group">
    <label for="salary" class="form-label mr-2">How much do you earn Monthly in Dollar</label>
    <input class="form-control" name="salary" id="salary" type="number" placeholder="100.00">

        </div>
    </div>
    
    <div class="form-group col-12 col-xl-6 col-lg-6">
    <div class="input-group">
    <label for="salproof" class="form-label mr-2">Upload your Proof of Salary</label>
    <input class="form-control" name="salproof" id="salproof" type="file">

        </div>
    </div>
    
 
    <div class="mb-5 col-6 mt-4" style="float:left">
                        <button type="button" id="back1" class="btn btn-secondary btn-block text-light" onclick="back_one();">Back</button>
                        
                    </div>
   <div class="mb-5 col-6 mt-4" style="float:right">
                        <button type="button" class="btn btn-success btn-block text-light" id="employ_btn" onclick="next_employ(this);">Save & Next</button> 
                    </div> 
                    

</div>

                </form>
            </div>

 <div class="tab-pane tab-pane" role="tabpanel" id="other">
                
                        <div>
                    <h4 class="mt-5">Create an account</h4>
                    <p class="mb-5">Fill in your Other Information.</p>
                </div>
                <form>

<div class="row">
                    
  
      <div class="form-group col-xl-6 col-lg-6">
         <label for="prel" class="form-label mr-2">Name of your Previous Landlord</label> 
    <input required  class="form-control" name="prel" id="prel" type="text"
    placeholder="">

    </div>

    <div class="form-group col-xl-6 col-lg-6">
         <label for="paddress" class="form-label mr-2">Your Permanent Home Address</label> 
    <input required  class="form-control" name="paddress" id="paddress" type="address" placeholder="">

    </div>


             <div class="form-group col-xl-6 col-lg-6">
        <div class="input-group">
            <label for="insured" class="form-label mr-2">Do you have an active Health Insurance Subscription?</label> 
            <select class="form-control" name="insured" id="insured">
                
                <option value="false">No</option>
                <option value="true">Yes</option>
            </select>
            
        </div>
    </div>  
    <div class="form-group col-xl-6 col-lg-6">
       <label for="doctor_name" class="form-label mr-2">Name of your Personal Doctor</label>    
    <input class="form-control" name="doctor_name" id="doctor_name" type="text" placeholder="">

    </div>
    
    <div class="form-group col-xl-6 col-lg-6">
       <label for="doctor" class="form-label mr-2">Phone Number of your Personal Doctor</label>    
    <input class="form-control" name="doctor" id="doctor" type="number" placeholder="+234904567893">

    </div>
    
      <div class="form-group col-xl-6 col-lg-6">
        <div class="input-group">
            <label for="cr_record" class="form-label mr-2">Do you have Any previous criminal record?</label> 
            <select class="form-control" name="cr_record" id="cr_record">
                
                <option value="false">No</option>
                 <option value="true">Yes</option>
            </select>
            
        </div>
    </div>
         

           <div class="form-group col-xl-6 col-lg-6">
<label for="crime" class="form-label mr-2">If yes what was the crime?</label> 
    <input class="form-control" name="crime" id="crime" type="text"
    placeholder="">

    </div>

    <div class="form-group col-xl-6 col-lg-6">
        <div class="input-group">
            <label for="jail" class="form-label mr-2">Did you serve a jail term?</label> 
            <select class="form-control" name="jail" id="jail">
                
                <option value="false">No</option>
                <option value="true">Yes</option>
            </select>
            
        </div>
    </div>
    <div class="form-group col-xl-6 col-lg-6">
<label for="jtime" class="form-label mr-2">If you served a Jail term, How Long?</label> 
    <input class="form-control" name="jtime" id="jtime" type="text"
    placeholder="">

    </div>

    <div class="form-group col-xl-6 col-lg-6">
<label for="cn" class="form-label mr-2">What was the nature of the conviction?</label> 
    <input class="form-control" name="cn" id="cn" type="text"
    placeholder="">

    </div>
   


   <div class="mb-5 col-6 mt-4" style="float:left">
                        <button type="button" id="back2" class="btn btn-secondary btn-block text-light" onclick="back_two();">Back</button> 
                        
                    </div>
 <div class="mb-5 col-6 mt-4" style="float:right">
                        <button type="button" class="btn btn-success btn-block text-light" onclick="next_other(this);">Save & Verify me</button> 
                    </div>
   
</div>

                </form>
            </div>
     
<!--         end of personal info -->




</div>



        </div>
        </div>
        
        
        <div class="right-pane" style="display:none">
            <div class="text-center" style="width: 300px">
                <div class="mb-5 forny-logo">
                    <img src="../alogo.png">
                </div>
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="126" height="94" viewBox="0 0 296 264"><defs><style>.a{opacity:0.8;}.b{fill:url(#a);}.c,.e{fill:#3f9142;}.d,.h{fill:#fff;}.d,.m{opacity:0.1;}.e,.i{opacity:0.2;}.f{opacity:0.3;}.g{fill:url(#b);}.j{fill:#e0e0e0;}.k,.o,.q{opacity:0.5;}.l{fill:url(#c);}.n{opacity:0.05;}.o{fill:#4d8af0;}.p{fill:#47e6b1;}.q{fill:#f55f44;}</style><linearGradient id="a" x1="0.5" y1="1" x2="0.5" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="gray" stop-opacity="0.251"/><stop offset="0.54" stop-color="gray" stop-opacity="0.122"/><stop offset="1" stop-color="gray" stop-opacity="0.102"/></linearGradient><linearGradient id="b" x1="-0.512" y1="7.758" x2="-0.512" y2="6.717" xlink:href="#a"/><linearGradient id="c" x1="-1.386" y1="7.85" x2="-1.386" y2="6.809" xlink:href="#a"/></defs><g class="a" transform="translate(98.3 6.928)"><ellipse class="b" cx="53.831" cy="41.702" rx="53.831" ry="41.702"/></g><ellipse class="c" cx="52.636" cy="40.776" rx="52.636" ry="40.776" transform="translate(99.498 7.854)"/><path class="d" d="M477.526,153.077c0-22.52,23.563-40.776,52.633-40.776a64.519,64.519,0,0,1,26.228,5.414c-9.251-6.248-21.354-10.045-34.6-10.045-29.069,0-52.636,18.256-52.636,40.776,0,15.121,10.626,28.319,26.412,35.362C484.51,176.331,477.526,165.338,477.526,153.077Z" transform="translate(-368.986 -99.915)"/><path class="e" d="M224.814,176.9l55.167,101.068,55.167,101.064H114.48l55.167-101.064Z" transform="translate(-72.403 -115.032)"/><g class="f" transform="translate(119.12 161.253)"><path class="g" d="M568.346,577.579l4.532-13.448a23.03,23.03,0,0,0-8.527-26.055l.037-.022a22.6,22.6,0,0,0-5.8-2.94h0l-.062-.022-.07-.022h0a22.624,22.624,0,0,0-6.212-1.169,21.788,21.788,0,0,0-2.246,0,22.908,22.908,0,0,0-3.856.533c-.368.081-.735.173-1.07.272s-.709.206-1.058.32c-.7.232-1.386.492-2.058.79-.338.147-.673.3-1,.467a22.6,22.6,0,0,0-2.849,1.676c-.305.21-.6.426-.9.647a22.788,22.788,0,0,0-7.807,10.879l-7.123,21.189a22.736,22.736,0,0,0-.985,10.335c.074.533.165,1.062.272,1.588s.239,1.044.368,1.558c.1.342.2.684.316,1.022.169.5.368,1.007.555,1.5.136.327.279.654.43.978.3.643.629,1.272.985,1.886a19.9,19.9,0,0,0,1.161,1.794c.309.434.636.86.974,1.272a19.2,19.2,0,0,0,1.441,1.591,22.719,22.719,0,0,0,7.718,5.105h0l.125.052a7.955,7.955,0,0,1,.515-.8A5,5,0,0,1,541,596.379c.132.029.265.07.4.11.926.327,1.838.911,2.731,1.2a2.447,2.447,0,0,0,2.062-.026c1.786-.952,1.125-3.955,2.657-5.271a2.384,2.384,0,0,1,.224-.169.7.7,0,0,1-.059-.085c1.183-.735,2.823-.246,4.186.228,1.47.518,3.389.867,4.411-.334.691-.823.64-2.077,1.3-2.94.765-.992,2.205-1.1,3.451-.926l.063.018a3.373,3.373,0,0,0,4.815-3.227A20.128,20.128,0,0,1,568.346,577.579Z" transform="translate(-521.084 -533.871)"/></g><path class="h" d="M538.341,599.544a4.777,4.777,0,0,1,4.679-2.1c1.764.4,3.437,2.08,5.006,1.239,2.146-1.147.625-5.362,4.109-5.675a4.572,4.572,0,0,1,2.121.368c1.47.6,3.771,1.275,4.9-.074.665-.794.617-2,1.253-2.826a3.475,3.475,0,0,1,3.33-.893l.059.018a3.254,3.254,0,0,0,4.646-3.113,19.223,19.223,0,0,1,1.047-7.1l4.366-12.978a22.193,22.193,0,0,0-13.912-28.04h0a22.193,22.193,0,0,0-28.033,13.915l-6.884,20.41a22.2,22.2,0,0,0,12.8,27.621,7.886,7.886,0,0,1,.511-.772Z" transform="translate(-403.743 -374.739)"/><circle class="i" cx="2.393" cy="2.393" r="2.393" transform="translate(140.448 174.147)"/><circle class="i" cx="2.393" cy="2.393" r="2.393" transform="translate(153.485 178.668)"/><ellipse class="j" cx="3.587" cy="2.393" rx="3.587" ry="2.393" transform="translate(143.033 190.412) rotate(-71.4)"/><circle class="h" cx="3.587" cy="3.587" r="3.587" transform="translate(191.066 173.47)"/><circle class="h" cx="1.794" cy="1.794" r="1.794" transform="translate(203.774 169.697)"/><g class="k" transform="translate(123.66 19.958)"><g class="f"><path class="l" d="M581.346,184.579l4.532-13.449a23.03,23.03,0,0,0-8.527-26.055l.037-.022a22.6,22.6,0,0,0-5.8-2.94h0l-.062-.022-.07-.022h0a22.623,22.623,0,0,0-6.212-1.169,21.788,21.788,0,0,0-2.246,0,22.9,22.9,0,0,0-3.856.533c-.368.081-.735.173-1.07.272s-.709.206-1.059.32c-.7.232-1.386.493-2.058.79-.338.147-.673.3-1,.467a22.6,22.6,0,0,0-2.849,1.676c-.305.21-.6.426-.9.647a22.788,22.788,0,0,0-7.807,10.879l-7.123,21.189a22.735,22.735,0,0,0-.985,10.335c.074.533.165,1.062.272,1.588s.239,1.044.368,1.558c.1.342.2.684.316,1.022.169.5.368,1.007.555,1.5.136.327.279.654.43.978.3.643.629,1.272.985,1.886a19.891,19.891,0,0,0,1.161,1.794c.309.434.636.86.974,1.272.456.551.934,1.084,1.441,1.591a22.718,22.718,0,0,0,7.718,5.105h0l.125.051a7.947,7.947,0,0,1,.515-.8A5,5,0,0,1,554,203.379c.132.029.265.07.4.11.926.327,1.838.912,2.731,1.2a2.448,2.448,0,0,0,2.062-.026c1.786-.952,1.125-3.955,2.657-5.271a2.394,2.394,0,0,1,.224-.169.691.691,0,0,1-.059-.085c1.183-.735,2.823-.246,4.186.228,1.47.518,3.389.867,4.411-.334.691-.823.64-2.077,1.3-2.94.765-.992,2.205-1.1,3.451-.926h.063a3.373,3.373,0,0,0,4.815-3.227A20.085,20.085,0,0,1,581.346,184.579Z" transform="translate(-534.084 -140.871)"/></g><path class="h" d="M551.341,206.544a4.777,4.777,0,0,1,4.679-2.1c1.764.4,3.437,2.08,5.006,1.239,2.146-1.147.625-5.363,4.109-5.675a4.572,4.572,0,0,1,2.121.368c1.47.6,3.771,1.275,4.9-.074.665-.794.617-2,1.253-2.826a3.475,3.475,0,0,1,3.33-.893l.059.018a3.254,3.254,0,0,0,4.646-3.113,19.223,19.223,0,0,1,1.047-7.1l4.366-12.978a22.192,22.192,0,0,0-13.912-28.04h0a22.192,22.192,0,0,0-28.033,13.915l-6.884,20.41a22.2,22.2,0,0,0,12.8,27.621A7.9,7.9,0,0,1,551.341,206.544Z" transform="translate(-535.858 -142.992)"/><circle class="i" cx="2.393" cy="2.393" r="2.393" transform="translate(21.228 11.86)"/><circle class="i" cx="2.393" cy="2.393" r="2.393" transform="translate(34.834 16.436)"/></g><path class="m" d="M574,186a32.167,32.167,0,0,1,1.026,8.086c0,22.52-23.563,40.776-52.633,40.776C498.6,234.847,478.5,222.622,472,205.848c4.83,18.66,26.1,32.712,51.607,32.712,29.069,0,52.636-18.256,52.636-40.776A32.4,32.4,0,0,0,574,186Z" transform="translate(-371.362 -149.455)"/><g class="a" transform="translate(42.181 37.956)"><ellipse class="b" cx="106.36" cy="28.452" rx="106.36" ry="28.452"/></g><path class="h" d="M430.853,192.4c-58.138,0-105.273,12.316-105.273,27.515H536.125C536.125,204.716,488.991,192.4,430.853,192.4Z" transform="translate(-284.812 -153.503)"/><path class="h" d="M430.853,294.771c58.138,0,105.273-12.316,105.273-27.511H325.58C325.58,282.454,372.714,294.771,430.853,294.771Z" transform="translate(-284.812 -201.722)"/><path class="n" d="M430.853,294.771c58.138,0,105.273-12.316,105.273-27.511H325.58C325.58,282.454,372.714,294.771,430.853,294.771Z" transform="translate(-284.812 -201.722)"/><rect class="n" width="100.487" height="14.356" rx="7.178" transform="translate(101.897 58.491)"/><path class="o" d="M306.118,140.074a1.353,1.353,0,0,1-.753-1.632.683.683,0,0,0,.029-.151h0a.676.676,0,0,0-1.217-.448h0a.668.668,0,0,0-.074.132,1.349,1.349,0,0,1-1.632.753.734.734,0,0,0-.151-.029h0a.676.676,0,0,0-.448,1.217h0a.6.6,0,0,0,.132.077,1.353,1.353,0,0,1,.753,1.632.694.694,0,0,0-.029.147h0a.676.676,0,0,0,1.217.452h0a.606.606,0,0,0,.074-.136,1.349,1.349,0,0,1,1.632-.735.734.734,0,0,0,.151.029h0a.676.676,0,0,0,.448-1.217h0A.6.6,0,0,0,306.118,140.074Z" transform="translate(-256.907 -118.827)"/><path class="o" d="M815.15,446.074a1.353,1.353,0,0,1-.735-1.632.685.685,0,0,0,.029-.151h0a.676.676,0,0,0-1.217-.448h0a.668.668,0,0,0-.074.132,1.349,1.349,0,0,1-1.632.753.737.737,0,0,0-.151-.029h0a.676.676,0,0,0-.448,1.217h0a.6.6,0,0,0,.132.077,1.353,1.353,0,0,1,.735,1.632.694.694,0,0,0-.029.147h0a.676.676,0,0,0,1.217.452h0a.6.6,0,0,0,.073-.136,1.349,1.349,0,0,1,1.632-.735.735.735,0,0,0,.151.029h0a.676.676,0,0,0,.448-1.217h0a.6.6,0,0,0-.132-.092Z" transform="translate(-588.576 -313.934)"/><path class="o" d="M253.118,588.074a1.353,1.353,0,0,1-.753-1.632.683.683,0,0,0,.029-.151h0a.676.676,0,0,0-1.217-.448h0a.668.668,0,0,0-.074.132,1.349,1.349,0,0,1-1.632.754.733.733,0,0,0-.151-.029h0a.676.676,0,0,0-.448,1.217h0a.594.594,0,0,0,.132.077,1.353,1.353,0,0,1,.753,1.632.694.694,0,0,0-.029.147h0a.676.676,0,0,0,1.217.452h0a.607.607,0,0,0,.074-.136,1.349,1.349,0,0,1,1.632-.735.733.733,0,0,0,.151.029h0a.676.676,0,0,0,.448-1.217h0A.6.6,0,0,0,253.118,588.074Z" transform="translate(-223.387 -404.369)"/><path class="o" d="M198.15,257.074a1.353,1.353,0,0,1-.735-1.632.682.682,0,0,0,.029-.151h0a.676.676,0,0,0-1.217-.448h0a.668.668,0,0,0-.074.132,1.349,1.349,0,0,1-1.632.753.736.736,0,0,0-.151-.029h0a.676.676,0,0,0-.448,1.217h0a.6.6,0,0,0,.132.077,1.353,1.353,0,0,1,.753,1.632.7.7,0,0,0-.029.147h0a.676.676,0,0,0,1.217.452h0a.606.606,0,0,0,.074-.136,1.349,1.349,0,0,1,1.632-.735.737.737,0,0,0,.151.029h0a.676.676,0,0,0,.448-1.217h0A.6.6,0,0,0,198.15,257.074Z" transform="translate(-188.634 -193.566)"/><path class="o" d="M804.986,89.074a1.353,1.353,0,0,1-.735-1.632.685.685,0,0,0,.029-.151h0a.676.676,0,0,0-1.217-.448h0a.666.666,0,0,0-.074.132,1.349,1.349,0,0,1-1.632.735.733.733,0,0,0-.151-.029h0a.676.676,0,0,0-.467,1.253h0a.6.6,0,0,0,.132.077,1.353,1.353,0,0,1,.735,1.632.694.694,0,0,0-.029.147h0a.676.676,0,0,0,1.242.434h0a.6.6,0,0,0,.074-.136,1.349,1.349,0,0,1,1.632-.735.734.734,0,0,0,.151.029h0a.676.676,0,0,0,.448-1.217h0A.6.6,0,0,0,804.986,89.074Z" transform="translate(-581.933 -86.571)"/><g class="k" transform="translate(37.857 93.627)"><rect class="p" width="1.103" height="6.248" transform="translate(2.573)"/><rect class="p" width="1.103" height="6.248" transform="translate(6.248 2.573) rotate(90)"/></g><g class="k" transform="translate(289.752 64.578)"><rect class="p" width="1.103" height="6.248" transform="translate(2.573)"/><rect class="p" width="1.103" height="6.248" transform="translate(6.248 2.573) rotate(90)"/></g><g class="k" transform="translate(252.997 165.885)"><rect class="p" width="1.103" height="6.248" transform="translate(2.573)"/><rect class="p" width="1.103" height="6.248" transform="translate(6.248 2.573) rotate(90)"/></g><circle class="q" cx="2.205" cy="2.205" r="2.205" transform="translate(250.792 27.878)"/><circle class="q" cx="2.205" cy="2.205" r="2.205" transform="translate(0 2.517)"/><circle class="q" cx="2.205" cy="2.205" r="2.205" transform="translate(63.389 127.77)"/><ellipse class="n" cx="12.497" cy="2.573" rx="12.497" ry="2.573" transform="translate(70.209 53.535)"/><ellipse class="n" cx="12.497" cy="2.573" rx="12.497" ry="2.573" transform="translate(70.209 72.781)"/><ellipse class="n" cx="12.497" cy="2.573" rx="12.497" ry="2.573" transform="translate(206.063 53.535)"/><ellipse class="n" cx="12.497" cy="2.573" rx="12.497" ry="2.573" transform="translate(206.063 72.781)"/><ellipse class="n" cx="12.497" cy="2.573" rx="12.497" ry="2.573" transform="translate(139.716 43.16)"/><ellipse class="n" cx="12.497" cy="2.573" rx="12.497" ry="2.573" transform="translate(148.492 16.33)"/><ellipse class="n" cx="12.497" cy="2.573" rx="12.497" ry="2.573" transform="translate(125.674 27.356)"/><ellipse class="n" cx="12.497" cy="2.573" rx="12.497" ry="2.573" transform="translate(169.555 32.134)"/><ellipse class="n" cx="12.497" cy="2.573" rx="12.497" ry="2.573" transform="translate(139.716 80.407)"/></svg>
                <div class="mt-10">
                    <h4 class="mb-4">Welcome to AfricNeibor.</h4>
                    <p>
                       Join thousands of landlords who trust AfricNeigbor to simplify their property management and provide tenants with the best renting experience. Fill in your details
                    </p>
                </div>
            </div>
        </div>
        </div>


       
    </div>
</div>

    </div>

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/demo.js"></script>
     <script src="./js/country.js"></script>
     <script>
     async function get_user_details(){
        var requestOptions = {
          method: 'GET',
          redirect: 'follow'
        };

        await fetch(base_url+"/v1/user/"+user_id, requestOptions)
          .then(response => response.json())
          .then(result => {
              console.log(result);
              Object.assign(user_details, {"firstname": result.data.firstname});
              Object.assign(user_details, {"tenant_id": result.data.tenant.id});
              Object.assign(user_details, {"lastname": result.data.lastname});
              Object.assign(user_details, {"middlename": result.data.middlename});
              Object.assign(user_details, {"country": result.data.country});
              Object.assign(user_details, {"state": result.data.state});
              Object.assign(user_details, {"city": result.data.city});
              Object.assign(user_details, {"dob": result.data.dob});
              Object.assign(user_details, {"address": result.data.address});
              Object.assign(user_details, {"phone": result.data.phone_no});
              Object.assign(user_details, {"id_number": result.data.id_number});
              Object.assign(user_details, {"id_method": result.data.id_method});
              
              //tenant details 
              Object.assign(user_details, {"no_of_children": result.data.tenant.no_of_children});
              Object.assign(user_details, {"no_of_wives": result.data.tenant.no_of_wives});
              Object.assign(user_details, {"relationship_status": result.data.tenant.relationship_status});
              Object.assign(user_details, {"religion": result.data.tenant.religion});
              if((result.data.tenant.previous_landlord_name != null)){
              Object.assign(user_details, {"plandlord": result.data.tenant.previous_landlord_name["firstname"]});
                document.getElementById("prel").value = user_details["plandlord"];
              }
              Object.assign(user_details, {"jail_time": result.data.tenant.jail_time});
              Object.assign(user_details, {"has_private_clinic": result.data.tenant.has_private_clinic});
              Object.assign(user_details, {"conviction_nature": result.data.tenant.conviction_nature});
              Object.assign(user_details, {"crime": result.data.tenant.crime_committed});
              Object.assign(user_details, {"paddress": result.data.tenant.permanent_address});
              Object.assign(user_details, {"doctor_phone": result.data.tenant.doctor_phone});
              Object.assign(user_details, {"occupation": result.data.tenant.occupation});
              
              if((result.data.tenant.doctor_name != null)){
              Object.assign(user_details, {"doctor_name": result.data.tenant.doctor_name["firstname"]});
              document.getElementById("doctor_name").value = user_details["doctor_name"];
              }
              if(result.data.tenant.education != null){
              Object.assign(user_details, {"institution": result.data.tenant.education[0].institution});
              Object.assign(user_details, {"end_date": result.data.tenant.education[0].endDate});
              Object.assign(user_details, {"course": result.data.tenant.education[0].fieldOfStudy});
              Object.assign(user_details, {"degree": result.data.tenant.education[0].degree});
              Object.assign(user_details, {"start_date": result.data.tenant.education[0].startDate});
              document.getElementById("school").value = user_details["institution"]; 
              document.getElementById("ed_level").value = user_details["degree"];
              document.getElementById("course").value = user_details["course"];
              document.getElementById("grad_year").value = user_details["end_date"];
              document.getElementById("start_date").value = user_details["start_date"];
              }
              
              if(result.data.tenant.jobs != null){
              Object.assign(user_details, {"company": result.data.tenant.jobs[0]["companyName"]}); 
              Object.assign(user_details, {"title": result.data.tenant.jobs[0].title});
              Object.assign(user_details, {"ref_name": result.data.tenant.jobs[0].references[0].name});
              Object.assign(user_details, {"ref_phone": result.data.tenant.jobs[0].references[0].phone});
              
              document.getElementById("job_role").value = user_details["title"];
              document.getElementById("emp_name").value = user_details["ref_name"];
              document.getElementById("emp_phone").value = user_details["ref_phone"];
              document.getElementById("company_name").value = user_details["company"];
              }
              Object.assign(user_details, {"cr_record": result.data.tenant.has_criminal_record});
              Object.assign(user_details, {"is_nigerian": result.data.tenant.is_nigerian});
              Object.assign(user_details, {"monthly_salary": result.data.tenant.monthly_salary});
              
              //family details
              if(result.data.tenant.mother_name != null){
              Object.assign(user_details, {"m_fname": result.data.tenant.mother_name["firstname"]});
              Object.assign(user_details, {"m_lname": result.data.tenant.mother_name["lastname"]});
              document.getElementById("m_fname").value = user_details["m_fname"];
              document.getElementById("m_lname").value = user_details["m_lname"];
           
              }
              if(result.data.tenant.father_name != null){
              Object.assign(user_details, {"f_fname": result.data.tenant.father_name["firstname"]});
              Object.assign(user_details, {"f_lname": result.data.tenant.father_name["lastname"]});
              document.getElementById("f_fname").value = user_details["f_fname"]
              document.getElementById("f_lname").value = user_details["f_lname"];
              }
              if(result.data.tenant.maternal_mother_name != null){
              Object.assign(user_details, {"mg_fname": result.data.tenant.maternal_mother_name["firstname"]});
              Object.assign(user_details, {"mg_lname": result.data.tenant.maternal_mother_name["lastname"]});
              document.getElementById("mg_fname").value = user_details["mg_fname"];
              document.getElementById("mg_lname").value = user_details["mg_lname"];
            
              }
              if(result.data.tenant.paternal_mother_name != null){
              Object.assign(user_details, {"pg_fname": result.data.tenant.paternal_mother_name["firstname"]});
              Object.assign(user_details, {"pg_lname": result.data.tenant.paternal_mother_name["lastname"]});
              document.getElementById("pg_fname").value = user_details["pg_fname"];
              document.getElementById("pg_lname").value = user_details["pg_lname"];
              
              }
              if(result.data.tenant.maternal_father_name != null){
              Object.assign(user_details, {"mgf_fname": result.data.tenant.maternal_father_name["firstname"]});
              Object.assign(user_details, {"mgf_lname": result.data.tenant.maternal_father_name["lastname"]});
              document.getElementById("mgf_fname").value = user_details["mgf_fname"]
              document.getElementById("mgf_lname").value = user_details["mgf_lname"];
              }
              if(result.data.tenant.paternal_father_name != null){
              Object.assign(user_details, {"pgf_fname": result.data.tenant.paternal_father_name["firstname"]});
              Object.assign(user_details, {"pgf_lname": result.data.tenant.paternal_father_name["lastname"]});
              document.getElementById("pgf_fname").value = user_details["pgf_fname"];
              document.getElementById("pgf_lname").value = user_details["pgf_lname"];
              }
              
              
              
              document.getElementById("oname").value = user_details["middlename"];
              document.getElementById("dob").value = user_details["dob"];
              document.getElementById("fname").value = user_details["firstname"];
            document.getElementById("lname").value = user_details["lastname"];
            document.getElementById("nin").value = user_details["id_number"];
            document.getElementById("phone").value = user_details["phone"];
            
            
            document.getElementById("address").value = user_details["address"];
            document.getElementById("city").value = user_details["city"];
            if(user_details["country"] != null){
            document.getElementById("country").value = user_details["country"];
            }
            if(user_details["religion"] != null){
            document.getElementById("religion").value = user_details["religion"];
            }
            if(user_details["cr_record"] != null){
            document.getElementById("cr_record").value = user_details["cr_record"];
            }
            if(user_details["relationship_status"] != null){
            document.getElementById("mar_stat").value = user_details["relationship_status"];
            }
            document.getElementById("kids_num").value = user_details["no_of_children"];
            document.getElementById("sp_num").value = user_details["no_of_wives"];
            if(user_details["id_method"] != null){
            document.getElementById("idtype").value = user_details["id_method"];
            }
            
            
            document.getElementById("jtime").value = user_details["jail_time"];
            document.getElementById("cn").value = user_details["conviction_nature"];
            
             document.getElementById("salary").value = user_details["monthly_salary"];
             document.getElementById("is_nig").value = user_details["is_nigerian"];
             if(user_details["has_private_clinic"] != null){
             document.getElementById("insured").value = user_details["has_private_clinic"]; 
             }
             document.getElementById("doctor").value = user_details["doctor_phone"];
             document.getElementById("crime").value = user_details["crime"];
             document.getElementById("paddress").value = user_details["paddress"];
           
             if((user_details["crime"] != null) ||  (user_details["jtime"] != null) || user_details["conviction_nature"] != null){
                  document.getElementById("jail").value = true;
             }
             
             if(user_details["occupation"] != null){
             document.getElementById("work_industry").value = user_details["occupation"]; 
             }
             
             //employment or education detials
             
            
            
            
            if(user_details["country"] != null){
                g_state();
                document.getElementById("state").value = user_details["state"]
            }
              
        })
        .catch(error => console.log('error', error));
     }
     
     get_user_details();
        </script>
<script>
const result = COUNTRIES;
    for(let i=0; i<result.length; i++){
        document.getElementById("country").innerHTML += "<option value='"+result[i].name+"'>" + result[i].name +"</option>";
    }
        

 function g_state() {
            const country = document.getElementById("country").value;
            const result = STATES[country]
            document.getElementById("stdiv").innerHTML = "<select class='form-control' id='state' name='state'><option value='0'>--Select the state</option>";
             for(let i=0; i<result.length; i++){
                 document.getElementById("state").innerHTML += "<option value='"+result[i]+"'>" + result[i] +"</option>";
            }
            document.getElementById("state").innerHTML += "</select>";
           
           
        }
        
    
        
         var phone_number = window.intlTelInput(document.querySelector("#phone"), {
  separateDialCode: true,
  initialCountry: "NG",
  hiddenInput: "full",
  utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.3/js/utils.js"
});
    </script>
    
    
    <script>
         async function next_personal(btn){
            var fname = document.getElementById("fname").value;
            var lname = document.getElementById("lname").value;
            var oname = document.getElementById("oname").value;
            var country = document.getElementById("country").value;
            var state = document.getElementById("state").value;
            var city = document.getElementById("city").value;
            var address = document.getElementById("address").value;
            var nin = document.getElementById("nin").value;
            var idtype = document.getElementById("idtype").value;
            var dob = document.getElementById("dob").value;
            var pn = document.getElementById("phone").value;
            var phone = phone_number.getNumber(intlTelInputUtils.numberFormat.E164);
            var religion = document.getElementById("religion").value;
             
            var mar_stat = document.getElementById("mar_stat").value;
            var is_nig = document.getElementById("is_nig").value;
            var kids_num = document.getElementById("kids_num").value;
            var sp_num = document.getElementById("sp_num").value;

            
            if(fname.length == 0){
                alert("First Name cannot be Blank")
                document.getElementById("fname").focus();
            }
            else if(lname.length == 0){
                alert("Enter your Last Name");
                document.getElementById("lname").focus();
            }  
            else if(country == "0"){
                alert("Please select a valid Country")
                document.getElementById("country").focus();
            }
            else if(state == "0"){
                alert("Please select a valid State");
                document.getElementById("state").focus();
            }
            else if(city.length == 0){
                alert("Please select a valid State");
                document.getElementById("state").focus();
            }
            else if(address.length == 0){
                alert("Please Enter your full residential address");
                document.getElementById("city").focus();
            }
            else if(idtype == "0"){
                alert("Please select the type of ID you would want to upload")
                document.getElementById("idtype").focus();
            }
            else if((idtype == "NIN") && ((nin.length != 11) || (/^\d+$/.test(nin) == false))){
                alert("Invalid ID number. Your NIN must be 11 digits ")
                document.getElementById("nin").focus();
            } 
            else if(nin.length == 0){
                alert("Please enter your ID Number for verification")
                document.getElementById("nin").focus();
            } 
             else if(pn.length == 0){
                alert("Please Enter your valid phone number!")
                document.getElementById("phone").focus();
            }
            else if(dob.length == 0){
                alert("Please enter your Date of Birth")
                document.getElementById("dob").focus();
            }
            else if(religion == "0"){
                alert("Please select Your Current Religion");
                document.getElementById("religion").focus();
            }
            else if(mar_stat == "0"){
                alert("Please select your marital status")
                document.getElementById("mar_stat").focus();
            }
            else if((kids_num.length == 0) || (kids_num < 0)){
                alert("Please enter a valid number of kids!")
                document.getElementById("kids_num").focus();
            }
            else if((sp_num.length == 0) || (sp_num < 0)){
                alert("Please enter a valid number of spouse!")
                document.getElementById("sp_num").focus();
            }
            
            
            
            else{
                btn.innerHTML="Please wait...";
                btn.setAttribute("disabled", "disabled");
                 const chosen_date = new Date(dob);
                        var d1 = `${chosen_date.getDate()}-${chosen_date.getMonth()}-${chosen_date.getFullYear()}`;
                        const formal_date = new Date(user_details["dob"]);
                        var d2 = `${formal_date.getDate()}-${formal_date.getMonth()}-${formal_date.getFullYear()}`;
                        var pics = localStorage.getItem("pics");
                if((nin != user_details["id_number"]) || (fname != user_details["firstname"]) || (lname != user_details["lastname"]) || (d1 != d2) || (pics == null)){
                const options = {
                  method: 'POST',
                  headers: {
                    Accept: 'application/json',
                    userid: '1667847061133',
                    apiKey: 'wj79cX5WUvnxlAWt9vZu',
                    'Content-Type': 'application/json'
                  },
                  body: JSON.stringify({
                    "searchParameter": nin,
                    "transactionReference": "",
                    "countryCode": "NG",
                    "verificationType":"NIN-VERIFY"
                  })
                };
               
                await fetch("https://api.verified.africa/sfx-verify/v3/id-service/", options)
                .then(response => response.json())
                .then(async(result) => {
                    console.log(result);
                    
                    
                    if(result.verificationStatus == "VERIFIED"){
                        const date = new Date(dob);
                        var str = `${date.getDate()}-${date.getMonth()}-${date.getFullYear()}`;
                        const date2 = new Date(result.response[0].birthdate);
                        var nin_dob = `${date2.getDate()}-${date2.getMonth()}-${date2.getFullYear()}`;
                    
                        id_image = result.response[0].photo;
                         localStorage.setItem("pics", id_image);
                        if(fname.toUpperCase().replace(/ /g,"") != result.response[0].firstname.toUpperCase().replace(/ /g,"")){
                            Swal.fire({
                                title: "First Name not match!",
                                text: "We couldn't verify your Identity because the Firstname you entered doesn't match the Name in your ID Card!",
                                icon: "error"
                            });
                            
                        }
                        else if(lname.toUpperCase().replace(/ /g,"") != result.response[0].surname.toUpperCase().replace(/ /g,"")){
                             Swal.fire({
                                title: "Last Name not match!",
                                text: "We couldn't verify your Identity because the Last name you entered doesn't match the surname in your ID Card!",
                                icon: "error"
                            });
                        }
                        else if(str.toString() != nin_dob.toString()){
                             Swal.fire({
                                title: "Incorrect Date of Birth!",
                                text: "We couldn't verify your Identity because the Date of Birth you entered is not the same with the Birth Date on your Id card!",
                                icon: "error"
                            });
                        }
                        else{
                            
                            //upload information to the users table
                            var formdata = new FormData();
                            formdata.append("firstname", fname);
                            formdata.append("lastname", lname);
                            formdata.append("phoneNo", phone);
                            formdata.append("middlename", oname);
                            formdata.append("country", country);
                            formdata.append("state", state);
                            formdata.append("city", city);
                            formdata.append("dob", dob);
                            formdata.append("idMethod", idtype);
                            formdata.append("idNumber", nin);
                            formdata.append("address", address);
            
                            var requestOptions = {
                                method: 'PATCH',
                                body: formdata,
                                redirect: 'follow'
                            };
            
                           await fetch(base_url+"/v1/user/"+user_id, requestOptions)
                            .then(response => response.json())
                            .then(async (result) => {
                    
                            if(result.status == true){
                            
                            
                            const payload_personal= {
                            "address": [
                                address
                            ],
                            "isNigerian": is_nig,
                            "nationality": country,
                            "birthTown": city,
                            "relationshipStatus": mar_stat,
                            "religion": religion,
                            "noOfChildren": kids_num,
                            "noOfWives":sp_num
                        };
                        var requestOptions = {
                          method: 'PATCH',
                          body: JSON.stringify(payload_personal),
                          headers: {
                            "Authorization": `Bearer ${ADMIN_TOKEN}`,
                            "Content-Type": "application/json"
                          },
                          redirect: 'follow'
                        };
                        
                        await fetch(base_url+"/v1/tenant/"+user_id, requestOptions)
                          .then(response => response.json())
                          .then(result2 => {
                              if(result2.status == true){
                                  Swal.fire({
                                      position: "top-end",
                                      icon: "success",
                                      title: "Personal Details Verified and Saved",
                                      showConfirmButton: false,
                                      timer: 1500
                                    });
                                  document.getElementById("personal").style.display="none";
                                document.getElementById("family").style.display="block";
                              }
                             
                                else{
                                    Swal.fire({
                                        title: "Failed!",
                                        text: "Error updating your information, Please try again!",
                                        icon: "error"
                                    });
                                }
                              
                          })
                          .catch(error => console.log('error', error));
                          btn.innerHTML="Next";
                          btn.removeAttribute("disabled");
                            }
                            else{
                                Swal.fire({
                                        title: "Failed!",
                                        text: "Error updating your Personal information, Please try again!",
                                        icon: "error"
                                    });
                            }
                   
                     })
                    .catch(error => console.log('error', error));
                            }
                    
                    
                    }
                    else{
                        Swal.fire({
                                title: "Failed!",
                                text: "We couldnt get details of this National Id Number. Try again with a valid ID card Number or contact our live support!",
                                icon: "error"
                            });
                    }
                   
                })
                //end verify
             btn.innerHTML="Next";
                          btn.removeAttribute("disabled");
            
            }
            else{
                //upload information to the users table
                            var formdata = new FormData();
                            formdata.append("firstname", fname);
                            formdata.append("lastname", lname);
                            formdata.append("phoneNo", phone);
                            formdata.append("middlename", oname);
                            formdata.append("country", country);
                            formdata.append("state", state);
                            formdata.append("city", city);
                            formdata.append("dob", dob);
                            formdata.append("idMethod", idtype);
                            formdata.append("idNumber", nin);
                            formdata.append("address", address);
            
                            var requestOptions = {
                                method: 'PATCH',
                                body: formdata,
                                redirect: 'follow'
                            };
            
                           await fetch(base_url+"/v1/user/"+user_id, requestOptions)
                            .then(response => response.json())
                            .then(async (result) => {
                    
                            if(result.status == true){
                            
                            
                            const payload_personal= {
                            "address": [
                                address
                            ],
                            "isNigerian": is_nig,
                            "nationality": country,
                            "birthTown": city,
                            "relationshipStatus": mar_stat,
                            "religion": religion,
                            "noOfChildren": kids_num,
                            "noOfWives":sp_num
                        };
                        var requestOptions = {
                          method: 'PATCH',
                          body: JSON.stringify(payload_personal),
                          headers: {
                            "Authorization": `Bearer ${ADMIN_TOKEN}`,
                            "Content-Type": "application/json"
                          },
                          redirect: 'follow'
                        };
                        
                        await fetch(base_url+"/v1/tenant/"+user_id, requestOptions)
                          .then(response => response.json())
                          .then(result2 => {
                              if(result2.status == true){
                                  Swal.fire({
                                      position: "top-end",
                                      icon: "success",
                                      title: "Personal Details Verified and Saved",
                                      showConfirmButton: false,
                                      timer: 1500
                                    });
                                  document.getElementById("personal").style.display="none";
                                document.getElementById("family").style.display="block";
                              }
                             
                                else{
                                    Swal.fire({
                                        title: "Failed!",
                                        text: "Error updating your information, Please try again!",
                                        icon: "error"
                                    });
                                }
                              
                          })
                          .catch(error => console.log('error', error));
                          btn.innerHTML="Save & Next";
                          btn.removeAttribute("disabled");
                            }
                            else{
                                Swal.fire({
                                        title: "Failed!",
                                        text: "Error updating your Personal information, Please try again!",
                                        icon: "error"
                                    });
                            }
                   
                     })
                    .catch(error => console.log('error', error));
            }
            }
            
        }
        
        
        async function next_family(btn){
            //mother and father details
            var m_fname = document.getElementById("m_fname").value;
            var m_lname = document.getElementById("m_lname").value;
            var f_fname = document.getElementById("f_fname").value;
            var f_lname = document.getElementById("f_lname").value;
            
            //maternal mother and father details
            var mg_fname = document.getElementById("mg_fname").value;
            var mg_lname = document.getElementById("mg_lname").value;
            var mgf_fname = document.getElementById("mgf_fname").value;
            var mgf_lname = document.getElementById("mgf_lname").value;
            
            //paternal mother and father details
            var pg_fname = document.getElementById("pg_fname").value;
            var pg_lname = document.getElementById("pg_lname").value;
            var pgf_fname = document.getElementById("pgf_fname").value;
            var pgf_lname = document.getElementById("pgf_lname").value;
            
            if(m_fname.length == 0){
                alert("Enter your mother's first name")
                document.getElementById("m_fname").focus();
            }
            else if(m_lname.length == 0){
                alert("Enter your mother's last name");
                document.getElementById("m_lname").focus();
            }  
            else if(f_fname.length == 0){
                alert("Enter your father's first name");
                document.getElementById("f_fname").focus();
            }
            else if(f_lname.length == 0){
                alert("Enter your father's last name");
                document.getElementById("f_lname").focus();
            }
            else if(mg_fname.length == 0){
                alert("Enter your Maternal Grandmother's first name");
                document.getElementById("mg_fname").focus();
            }
            else if(mg_lname.length == 0){
                alert("Enter your Maternal Grandmother's last name");
                document.getElementById("mg_lname").focus();
            }
            else if(mgf_fname.length == 0){
                alert("Enter your Maternal Grandfather's first name");
                document.getElementById("mgf_fname").focus();
            }
            else if(mgf_lname.length == 0){
                alert("Enter your Maternal Grandfather's last name");
                document.getElementById("mgf_lname").focus();
            }
              else if(pg_fname.length == 0){
                alert("Enter your Paternal Grandmother's first name");
                document.getElementById("pg_fname").focus();
            }
            else if(pg_lname.length == 0){
                alert("Enter your Paternal Grandmother's last name");
                document.getElementById("pg_lname").focus();
            }
            else if(pgf_fname.length == 0){
                alert("Enter your Paternal Grandfather's first name");
                document.getElementById("pgf_fname").focus();
            }
            else if(pgf_lname.length == 0){
                alert("Enter your Paternal Grandfather's last name");
                document.getElementById("pgf_lname").focus();
            }
            
             else{
                 btn.innerHTML="Please wait...";
                btn.setAttribute("disabled", "disabled");
                
                      const payload_emp = {
                        "motherName": {
                          "firstname": m_fname,
                          "lastname": m_lname
                        },
                        "fatherName": {
                          "firstname": f_fname,
                          "lastname": f_lname
                        },
                        "paternalFatherName": {
                          "firstname": pgf_fname,
                          "lastname": pgf_lname
                        },
                        "paternalMotherName": {
                          "firstname": pg_fname,
                          "lastname": pg_lname
                        },
                        "maternalFatherName": {
                          "firstname": mgf_fname,
                          "lastname": mgf_lname
                        },
                        "maternalMotherName": {
                          "firstname": mg_fname,
                          "lastname": mg_lname
                        }
                        };
                        var requestOptions = {
                          method: 'PATCH',
                          body: JSON.stringify(payload_emp),
                          headers: {
                            "Authorization": `Bearer ${ADMIN_TOKEN}`,
                            "Content-Type": "application/json"
                          },
                          redirect: 'follow'
                        };
                        
                        await fetch(base_url+"/v1/tenant/"+user_id, requestOptions)
                          .then(response => response.json())
                          .then(result => {
                              if(result.status == true){
                                  Swal.fire({
                                      position: "top-end",
                                      icon: "success",
                                      title: "Family Details Saved",
                                      showConfirmButton: false,
                                      timer: 1500
                                    });
                                  document.getElementById("family").style.display="none";
                                document.getElementById("employment").style.display="block";
                              }
                             
                                else{
                                    Swal.fire({
                                        title: "Failed!",
                                        text: "Error updating your Family information, Please try again!",
                                        icon: "error"
                                    });
                                }
                              
                          })
                          .catch(error => console.log('error', error));
                          btn.innerHTML="Save & Next";
                          btn.removeAttribute("disabled");
                    }
        }
        
        async function next_employ(btn){
            //mother and father details
            var ed_level = document.getElementById("ed_level").value;
            var school = document.getElementById("school").value;
            var grad_year = document.getElementById("grad_year").value;
            var course = document.getElementById("course").value;
            
            var work_industry = document.getElementById("work_industry").value;
            var company_name = document.getElementById("company_name").value;
            var job_role = document.getElementById("job_role").value;
            
            var emp_phone = document.getElementById("emp_phone").value;
            var emp_name = document.getElementById("emp_name").value;
            var salary = document.getElementById("salary").value;
            var start_date = document.getElementById("start_date").value;
             var salproof = document.getElementById("salproof");
            
            if(ed_level == '0'){
                alert("Select your highest educational qualification");
                document.getElementById("ed_level").focus();
            }
            else if(school.length == 0){
                alert("Enter the most recent school you attended");
                document.getElementById("salary").focus();
            } 
            else if(grad_year.length == 0){
                alert("Enter your graduation year/expected year of graduation");
                document.getElementById("grad_year").focus();
            } 
            else if(course.length == 0){
                alert("Enter the course you studied/studying");
                document.getElementById("course").focus();
            }
            else if(work_industry == '0'){
                alert("Select your work industry");
                document.getElementById("work_industry").focus();
            }
            else if(company_name.length == 0){
                alert("Enter the name of the company you work for");
                document.getElementById("company_name").focus();
            }
            else if(job_role.length == 0){
                alert("Enter the description of your job");
                document.getElementById("emp_name").focus();
            }
            else if(start_date.length == 0){
                alert("Enter the date you started your Job/became a student/ became unemployed");
                document.getElementById("start_date").focus();
            }
            else if(emp_name.length == 0){
                alert("Enter the name of your employer for verification");
                document.getElementById("emp_name").focus();
            }
            else if(emp_phone.length == 0){
                alert("Enter the phone number of your employer for verification");
                document.getElementById("emp_phone").focus();
            }
            else if(salary.length == 0){
                alert("Enter the amount you earn every Month in Dollar($)");
                document.getElementById("salary").focus();
            }
            else if(salproof.files.length == 0){
                alert("Upload your Proof of Salary");
                document.getElementById("salproof").focus();
            }
            
            
            
             else{ 
                 btn.innerHTML="Please wait...";
                btn.setAttribute("disabled", "disabled");
                 const payload_emp = {
                            "education": [
                              {
                                "institution": school,
                                "degree": ed_level,
                                "fieldOfStudy": course,
                                "startDate": start_date,
                                "endDate": grad_year
                              }
                            ],
                            "jobs": [
                              {
                                "title": job_role,
                                "companyName": company_name,
                                "startDate": start_date,
                                "references": [
                                  {
                                    "name": emp_name,
                                    "phone": emp_phone
                                  }
                                ]
                              }
                            ],
                            "monthlySalary": salary,
                            "occupation":work_industry
                        };
                        var requestOptions = {
                          method: 'PATCH',
                          body: JSON.stringify(payload_emp),
                          headers: {
                            "Authorization": `Bearer ${ADMIN_TOKEN}`,
                            "Content-Type": "application/json"
                          },
                          redirect: 'follow'
                        };
                        
                        await fetch(base_url+"/v1/tenant/"+user_id, requestOptions)
                          .then(response => response.json())
                          .then(async(result) =>  {
                              if(result.status == true){
                                   let formData22 = new FormData();
                                formData22.append("proofOfSalary", salproof.files[0]);
                                formData22.append("userId", user_id);
                                
                                // Configure request options
                                let requestOptions = {
                                  method: 'POST',
                                  body: formData22,
                                  headers: {
                                    "Authorization": `Bearer ${ADMIN_TOKEN}`,
                                    // No need to set "Content-Type" explicitly; it will be set automatically for FormData
                                  },
                                  redirect: 'follow'
                                };
                                    
                                    await fetch(base_url+"/v1/tenant/upload", requestOptions)
                                      .then(response => response.json())
                                      .then(result2 => {
                                          if(result2.status == true){
                                              Swal.fire({
                                      position: "top-end",
                                      icon: "success",
                                      title: "Employment Details Saved",
                                      showConfirmButton: false,
                                      timer: 1500
                                    });
                                  document.getElementById("employment").style.display="none";
                                document.getElementById("other").style.display="block";
                                          }
                                      })
                                      .catch(error => console.log('error', error));
                              }
                             
                                else{
                                    Swal.fire({
                                        title: "Failed!",
                                        text: "Error updating your Employment information, Please try again!",
                                        icon: "error"
                                    });
                                }
                              
                          })
                          .catch(error => console.log('error', error));
                          btn.innerHTML="Save & Next";
                          btn.removeAttribute("disabled");
                    }
        }
        
         async function next_other(btn){
            //mother and father details
            var prel = document.getElementById("prel").value;
            var paddress = document.getElementById("paddress").value;
            var insured = document.getElementById("insured").value;
            var doctor = document.getElementById("doctor").value;
            var doctor_name = document.getElementById("doctor_name").value;
            
            var cr_record = document.getElementById("cr_record").value;
            var crime = document.getElementById("crime").value;
            var jail = document.getElementById("jail").value;
            var jtime = document.getElementById("jtime").value;
            
            var cn = document.getElementById("cn").value;
            
            if(prel.length == 0){
                alert("Enter the Name of your previous landlord");
                document.getElementById("prel").focus();
            }  
            else if(paddress.length == 0){
                alert("Enter your Permanent Home address in Nigeria");
                document.getElementById("paddress").focus();
            }
            else if((cr_record == "true") && (crime.length == 0)){
                alert("You have a previous criminal record, please enter your crime!");
                document.getElementById("crime").focus();
            }
            else if((jail == "true") && (jtime.length == 0)){
                alert("You served a jail term, please submit how long?");
                document.getElementById("jtime").focus();
            }
            else if((jail == "true") && (cn.length == 0)){
                alert("You served a jail term, please enter the nature of your conviction?");
                document.getElementById("cn").focus();
            }
            
            
             else{
                 btn.innerHTML="Please wait...";
                btn.setAttribute("disabled", "disabled");
                        const payload = {
                            "crimeCommitted": crime,
                            "jailTime": jtime,
                            "convictionNature": cn,
                            "doctorName": {
                              "firstname": doctor_name
                            },
                            "previousLandlordName": {
                                  "firstname": prel,
                                },   
                            "hasCriminalRecord": cr_record,
                            "hasPrivateClinic": insured,
                            "doctorPhone": doctor,
                            "permanentAddress": paddress
                        };
                        var requestOptions = {
                          method: 'PATCH',
                          body: JSON.stringify(payload),
                          headers: {
                            "Authorization": `Bearer ${ADMIN_TOKEN}`,
                            "Content-Type": "application/json"
                          },
                          redirect: 'follow'
                        };
                         
                        await fetch(base_url+"/v1/tenant/"+user_id, requestOptions)
                          .then(response => response.json())
                          .then(result => {
                              if(result.status == true){
                                  Swal.fire({
                                      position: "top-end",
                                      icon: "success",
                                      title: "Your details has been submitted. redirecting for verification...",
                                      showConfirmButton: false,
                                      timer: 1500
                                    });
                                 setTimeout(()=> window.location.href = "verify-user", 3000);
                              }
                             
                                else{
                                    Swal.fire({
                                        title: "Failed!",
                                        text: "Error updating your other information, Please try again!",
                                        icon: "error"
                                    });
                                }
                              
                          })
                          .catch(error => console.log('error', error));
                          btn.innerHTML="Verify me";
                          btn.removeAttribute("disabled");
                    }
        }
            
        function back_p(){
            document.getElementById("family").style.display="none";
            document.getElementById("personal").style.display="block";
            
        }
        function back_one(){
            document.getElementById("family").style.display="block";
            document.getElementById("employment").style.display="none";
            
        }
        
        function back_two(){
            document.getElementById("other").style.display="none";
            document.getElementById("employment").style.display="block";
            
        }
    </script>
    <!--Start of Tawk.to Script-->
<script type="text/javascript">
var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/65f7504ccc1376635adb9597/1hp713c11';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();
</script>
<!--End of Tawk.to Script-->
</body>

</html>